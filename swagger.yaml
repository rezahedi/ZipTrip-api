openapi: 3.0.0
info:
  title: One Day Planner API
  contact: {}
  version: '1.0'
servers:
  - url: http://localhost:8000/api/v1
    variables: {}
paths:
  /plans:
    get:
      tags:
        - Plans
      summary: Get All Plans, filter by category or search, with pagination of 10 rows by default
      operationId: GetAllPlans
      parameters:
        - $ref: '#/components/parameters/CategoryIdParam'
        - $ref: '#/components/parameters/PageParam'
        - $ref: '#/components/parameters/SizeParam'
        - $ref: '#/components/parameters/SearchParam'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              example: |
                {
                  "categoryId": "city-exploration",
                  "page": 1,
                  "size": 10,
                  "items": [
                    {
                      "planId": "san-francisco-day-tour",
                      "title": "San Francisco Day Tour",
                      "description": "A one-day tour exploring San Francisco's iconic sites, parks, museums, and dining establishments.",
                      "images": [
                        "https://dummyimage.com/390x265/2196F3/fff.png",
                        "https://dummyimage.com/390x265/FF9800/fff.png"
                      ],
                      "type": "Full day",
                      "stopCount": 5,
                      "rating": 4.8,
                      "reviewCount": 120,
                      "startLocation": [37.7955, -122.3937],
                      "finishLocation": [37.7879, -122.4074],
                      "distance": 5,
                      "duration": "8 hours",
                      "userId": "jane-doe",
                      "categoryId": "city-exploration",
                      "createdAt": "2025-04-04T16:50:54Z",
                      "updatedAt": "2025-04-04T16:50:54Z"
                    }
                  ]
                }
          headers: {}
      deprecated: false
  /plans/plan/{planId}:
    parameters:
      - in: path
        name: planId
        schema:
          type: string
          example: san-francisco-day-tour
        required: true
        description: The plan ID
    get:
      tags:
        - Plans
      summary: Get Single Plan plus all the related stops
      operationId: GetPlan
      parameters: []
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              example: |
                {
                  "planId": "san-francisco-day-tour",
                  "title": "San Francisco Day Tour",
                  "description": "A one-day tour exploring San Francisco's iconic sites, parks, museums, and dining establishments.",
                  "images": ["https://dummyimage.com/390x265/2196F3/fff.png"],
                  "type": "Full day",
                  "stopCount": 1,
                  "rating": 4.8,
                  "reviewCount": 120,
                  "startLocation": [37.7955, -122.3937],
                  "finishLocation": [37.7879, -122.4074],
                  "distance": 5,
                  "duration": "8 hours",
                  "userId": "jane-doe",
                  "categoryId": "city-exploration",
                  "createdAt": "2025-04-04T16:50:54Z",
                  "updatedAt": "2025-04-04T16:50:54Z",
                  "stops": [
                    {
                        "stopId": "stop-001",
                        "planId": "san-francisco-day-tour",
                        "name": "Ferry Building Marketplace",
                        "imageURL": "https://dummyimage.com/390x265/2196F3/fff.png",
                        "address": "1 Ferry Building, San Francisco, CA 94111",
                        "description": "A historic building offering a variety of food vendors, shops, and a farmers market.",
                        "location": [37.7955, -122.3937],
                        "sequence": 1,
                        "createdAt": "2025-04-04T16:50:54Z",
                        "updatedAt": "2025-04-04T16:50:54Z"
                    }
                  ]
                }
          headers: {}
      deprecated: false
  /plans/user/{userId}:
    parameters:
      - in: path
        name: userId
        schema:
          type: string
          example: alice-johnson
        required: true
        description: The user ID
    get:
      tags:
        - Plans
      summary: Get a user's detail and their plans
      operationId: GetUserPlans
      parameters: []
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              example: |
                {
                  "userId": "alice-johnson",
                  "name": "Alice Johnson",
                  "email": "alice.johnson@example.com",
                  "pictureURL": "https://api.dicebear.com/9.x/dylan/svg?seed=alice-johnson",
                  "createdAt": "2025-04-04T17:00:54Z",
                  "updatedAt": "2025-04-04T17:00:54Z",
                  "plans": {
                    "page": 1,
                    "size": 10,
                    "items": [
                      {
                        "planId": "berkeley-highlights-tour",
                        "title": "Berkeley Highlights Tour",
                        "description": "A day exploring the University of California, Berkeley campus and surrounding cultural spots.",
                        "images": ["https://dummyimage.com/390x265/673AB7/fff.png"],
                        "type": "Evening",
                        "stopCount": 4,
                        "rating": 4.9,
                        "reviewCount": 95,
                        "startLocation": [37.8719, -122.2585],
                        "finishLocation": [37.8793, -122.2698],
                        "distance": 3,
                        "duration": "6 hours",
                        "userId": "alice-johnson",
                        "categoryId": "academic-and-cultural-tour",
                        "createdAt": "2025-04-04T17:00:54Z",
                        "updatedAt": "2025-04-04T17:00:54Z"
                      }
                    ]
                  }
                }
          headers: {}
      deprecated: false
  /plans/category/{categoryId}:
    parameters:
      - in: path
        name: categoryId
        schema:
          type: string
          example: nature-and-history
        required: true
        description: The category ID
    get:
      tags:
        - Plans
      summary: Get a category's detail and its plans
      operationId: GetCategoryPlans
      parameters: []
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              example: |
                {
                  "categoryId": "nature-and-history",
                  "name": "Nature and History",
                  "description": "Explore Berkeley's parks, history, and natural beauty.",
                  "imageURL": "https://dummyimage.com/1050x230/8BC34A/fff.png",
                  "createdAt": "2025-04-04T17:00:54Z",
                  "updatedAt": "2025-04-04T17:00:54Z",
                  "plans": {
                    "page": 1,
                    "size": 10,
                    "items": [
                      {
                        "planId": "berkeley-nature-history-tour",
                        "title": "Berkeley Nature & History Tour",
                        "description": "A day exploring Berkeley's natural beauty, parks, and historical sites.",
                        "images": ["https://dummyimage.com/390x265/8BC34A/fff.png"],
                        "type": "Night",
                        "stopCount": 5,
                        "rating": 4.8,
                        "reviewCount": 62,
                        "startLocation": [37.8747, -122.2627],
                        "finishLocation": [37.8712, -122.3021],
                        "distance": 5.5,
                        "duration": "7 hours",
                        "userId": "alice-johnson",
                        "categoryId": "nature-and-history",
                        "createdAt": "2025-04-04T17:00:54Z",
                        "updatedAt": "2025-04-04T17:00:54Z"
                      }
                    ]
                  }
                }
          headers: {}
      deprecated: false
  /auth/register:
    post:
      tags:
        - Auth
      summary: (Draft) Register User with email and password
      operationId: RegisterUser
      parameters: []
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterUserObject'
            example: |
              {
                "name": "bob",
                "email": "bob@example.com",
                "password": "secret"
              }
        required: true
      responses:
        '200':
          description: ''
          content:
            application/json:
              example: |
                {
                  "name": "Bob",
                  "email": "bob@example.com",
                  "token": "example-token-sdf98sdf879sdf9sd8fsd89f89wefw"
                }
          headers: {}
      deprecated: false
      security: []
  /auth/login:
    post:
      tags:
        - Auth
      summary: (Draft) Login User with email and password
      operationId: LoginUser
      parameters: []
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginUserObject'
            example: |
              {
                "email": "bob@example.com",
                "password": "secret"
              }
        required: true
      responses:
        '200':
          description: ''
          content:
            application/json:
              example: |
                {
                  "name": "Bob",
                  "email": "bob@example.com",
                  "token": "example-token-sdf98sdf879sdf9sd8fsd89f89wefw"
                }
          headers: {}
      deprecated: false
      security: []
  /account/plans:
    get:
      tags:
        - Account
      summary: (Draft) Retrieve all of a user's plans
      security:
        - bearerAuth: []
      operationId: AccountGetUserPlans
      parameters: []
      responses:
        200:
          description: Successful response
          content:
            application/json:
              example: |
                {
                  "page": 1,
                  "size": 10,
                  "items": [
                    {
                      "planId": "san-francisco-day-tour",
                      "title": "San Francisco Day Tour",
                      "description": "A one-day tour exploring San Francisco's iconic sites, parks, museums, and dining establishments.",
                      "images": [
                        "https://dummyimage.com/390x265/2196F3/fff.png",
                        "https://dummyimage.com/390x265/FF9800/fff.png"
                      ],
                      "type": "Full day",
                      "stopCount": 5,
                      "rating": 4.8,
                      "reviewCount": 120,
                      "startLocation": [37.7955, -122.3937],
                      "finishLocation": [37.7879, -122.4074],
                      "distance": 5,
                      "duration": "8 hours",
                      "userId": "jane-doe",
                      "categoryId": "city-exploration",
                      "createdAt": "2025-04-04T16:50:54Z",
                      "updatedAt": "2025-04-04T16:50:54Z"
                    }
                  ]
                }
          headers: {}
      deprecated: false
    post:
      tags:
        - Account
      summary: (Draft) Create new Plan
      security:
        - bearerAuth: []
      operationId: CreatePlan
      parameters: []
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccountPlanRequestBody'
            example: |
              {
                "title": "San Francisco Day Tour",
                "description": "A one-day tour exploring San Francisco's iconic sites.",
                "images": ["https://dummyimage.com/390x265/2196F3/fff.png"],
                "categoryId": "city-exploration",
                "stops": [
                  {
                    "name": "Ferry Building Marketplace",
                    "imageURL": "https://dummyimage.com/390x265/2196F3/fff.png",
                    "address": "1 Ferry Building, San Francisco, CA 94111"
                  }
                ]
              }
        required: true
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              example: |
                {
                  "planId": "san-francisco-day-tour",
                  "title": "San Francisco Day Tour",
                  "description": "A one-day tour exploring San Francisco's iconic sites, parks, museums, and dining establishments.",
                  "images": ["https://dummyimage.com/390x265/2196F3/fff.png"],
                  "type": "Full day",
                  "stopCount": 0,
                  "rating": 0,
                  "reviewCount": 0,
                  "startLocation": [0, 0],
                  "finishLocation": [0, 0],
                  "distance": 0,
                  "duration": "",
                  "userId": "jane-doe",
                  "categoryId": "city-exploration",
                  "createdAt": "2025-04-04T16:50:54Z",
                  "updatedAt": "2025-04-04T16:50:54Z",
                  "stops": [
                    {
                      "stopId": "stop-001",
                      "planId": "san-francisco-day-tour",
                      "name": "Ferry Building Marketplace",
                      "imageURL": "https://dummyimage.com/390x265/2196F3/fff.png",
                      "address": "1 Ferry Building, San Francisco, CA 94111",
                      "description": "",
                      "location": [0, 0],
                      "sequence": 1,
                      "createdAt": "2025-04-04T16:50:54Z",
                      "updatedAt": "2025-04-04T16:50:54Z"
                    }
                  ]
                }
          headers: {}
      deprecated: false
  /account/plans/{planId}:
    parameters:
      - in: path
        name: planId
        schema:
          type: string
          example: san-francisco-day-tour
        required: true
        description: The plan ID
    get:
      tags:
        - Account
      summary: (Draft) Retrieve a plan details along with the associated stops
      security:
        - bearerAuth: []
      operationId: AccountGetPlan
      parameters: []
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              example: |
                {
                  "planId": "san-francisco-day-tour",
                  "title": "San Francisco Day Tour",
                  "description": "A one-day tour exploring San Francisco's iconic sites, parks, museums, and dining establishments.",
                  "images": ["https://dummyimage.com/390x265/2196F3/fff.png"],
                  "type": "Full day",
                  "stopCount": 1,
                  "rating": 4.8,
                  "reviewCount": 120,
                  "startLocation": [37.7955, -122.3937],
                  "finishLocation": [37.7879, -122.4074],
                  "distance": 5,
                  "duration": "8 hours",
                  "userId": "jane-doe",
                  "categoryId": "city-exploration",
                  "createdAt": "2025-04-04T16:50:54Z",
                  "updatedAt": "2025-04-04T16:50:54Z",
                  "stops": [
                    {
                      "stopId": "stop-001",
                      "planId": "san-francisco-day-tour",
                      "name": "Ferry Building Marketplace",
                      "imageURL": "https://dummyimage.com/390x265/2196F3/fff.png",
                      "address": "1 Ferry Building, San Francisco, CA 94111",
                      "description": "A historic building offering a variety of food vendors, shops, and a farmers market.",
                      "location": [37.7955, -122.3937],
                      "sequence": 1,
                      "createdAt": "2025-04-04T16:50:54Z",
                      "updatedAt": "2025-04-04T16:50:54Z"
                    }
                  ]
                }
          headers: {}
      deprecated: false
    put:
      tags:
        - Account
      summary: (Draft) Modify the plan details
      security:
        - bearerAuth: []
      operationId: AccountUpdatePlan
      parameters: []
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccountPlanRequestBody'
            example: |
              {
                "title": "San Francisco Day Tour",
                "description": "A one-day tour exploring San Francisco's iconic sites.",
                "images": ["https://dummyimage.com/390x265/2196F3/fff.png"],
                "categoryId": "city-exploration",
                "stops": [
                  {
                    "name": "Ferry Building Marketplace",
                    "imageURL": "https://dummyimage.com/390x265/2196F3/fff.png",
                    "address": "1 Ferry Building, San Francisco, CA 94111"
                  }
                ]
              }
        required: true
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              example: |
                {
                  "planId": "san-francisco-day-tour",
                  "title": "San Francisco Day Tour",
                  "description": "A one-day tour exploring San Francisco's iconic sites, parks, museums, and dining establishments.",
                  "images": ["https://dummyimage.com/390x265/2196F3/fff.png"],
                  "type": "Full day",
                  "stopCount": 0,
                  "rating": 0,
                  "reviewCount": 0,
                  "startLocation": [0, 0],
                  "finishLocation": [0, 0],
                  "distance": 0,
                  "duration": "",
                  "userId": "jane-doe",
                  "categoryId": "city-exploration",
                  "createdAt": "2025-04-04T16:50:54Z",
                  "updatedAt": "2025-04-04T16:50:54Z",
                  "stops": [
                    {
                      "stopId": "stop-001",
                      "planId": "san-francisco-day-tour",
                      "name": "Ferry Building Marketplace",
                      "imageURL": "https://dummyimage.com/390x265/2196F3/fff.png",
                      "address": "1 Ferry Building, San Francisco, CA 94111",
                      "description": "",
                      "location": [0, 0],
                      "sequence": 1,
                      "createdAt": "2025-04-04T16:50:54Z",
                      "updatedAt": "2025-04-04T16:50:54Z"
                    }
                  ]
                }
          headers: {}
      deprecated: false
    delete:
      tags:
        - Account
      summary: (Draft) Delete a plan including all the associated stops
      security:
        - bearerAuth: []
      operationId: AccountDeletePlan
      parameters: []
      responses:
        '204':
          description: 'No Content'
          headers: {}
      deprecated: false
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    RegisterUserObject:
      title: Register's Object
      required:
        - name
        - email
        - password
      type: object
      properties:
        name:
          type: string
        email:
          type: string
        password:
          type: string
    LoginUserObject:
      title: Login's Object
      required:
        - email
        - password
      type: object
      properties:
        email:
          type: string
        password:
          type: string
    AccountPlanRequestBody:
      title: Plan's Object
      required:
        - title
        - description
        - images
        - categoryId
      type: object
      properties:
        title:
          type: string
        description:
          type: string
        images:
          type: array
          items:
            type: string
        type:
          type: string
        duration:
          type: string
        categoryId:
          type: string
        stops:
          type: array
          items:
            type: object
            title: Stop's Object
            required:
              - name
              - imageURL
              - address
            properties:
              name:
                type: string
              imageURL:
                type: string
              address:
                type: string
              description:
                type: string
              location:
                type: array
                items:
                  type: number
              sequence:
                type: number
  parameters:
    CategoryIdParam:
      name: categoryId
      in: query
      schema:
        type: string
        example: nature-and-history
      required: false
      description: Category ID to filter plans by category (optional)

    PageParam:
      name: page
      in: query
      schema:
        type: integer
        default: 1
      required: false
      description: Page number for pagination (optional, default is 1)

    SizeParam:
      name: size
      in: query
      schema:
        type: integer
        default: 10
      required: false
      description: Number of items per page for pagination (optional, default is 10)

    SearchParam:
      name: search
      in: query
      schema:
        type: string
        default: null
      required: false
      description: (NOT Working Yet) Search through title of plans to find matching words (optional)
tags:
  - name: Plans
    description: Fetching plans for public views
  - name: Auth
    description: Simple user authentication with email & password
  - name: Account
    description: Logged in user operation for user's dashboard
